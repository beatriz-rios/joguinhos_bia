<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Borboleta com Rastro Mágico</title>
    <style>
        :root {
            --butterfly-main: #ff69b4; /* Cor das asas */
            --butterfly-body: #333;
            --trail-color: #ffd700; /* Cor do pó de fada */
        }

        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            background-color: #2c3e50;
            overflow: hidden;
            cursor: none;
            font-family: sans-serif;
        }

        /* Contentor da Borboleta */
        #butterfly {
            position: fixed;
            width: 60px;
            height: 60px;
            z-index: 1000;
            pointer-events: none;
            will-change: transform;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Corpo Central */
        .body-center {
            position: absolute;
            width: 6px;
            height: 40px;
            background-color: var(--butterfly-body);
            border-radius: 5px;
            z-index: 10;
        }

        /* Antenas */
        .body-center::before, .body-center::after {
            content: '';
            position: absolute;
            top: -10px;
            width: 1px;
            height: 15px;
            background-color: var(--butterfly-body);
        }
        .body-center::before { left: 1px; transform: rotate(-20deg); }
        .body-center::after { right: 1px; transform: rotate(20deg); }

        /* Asas */
        .wing {
            position: absolute;
            width: 35px;
            height: 50px;
            background: var(--butterfly-main);
            border-radius: 50% 50% 20% 50%;
            opacity: 0.9;
            box-shadow: inset 0 0 15px rgba(0,0,0,0.2);
            z-index: 5;
            top: 5px;
        }

        /* Padrões nas Asas */
        .wing::after {
            content: '';
            position: absolute;
            top: 10%;
            left: 10%;
            width: 60%;
            height: 60%;
            border: 2px solid rgba(255,255,255,0.4);
            border-radius: 50%;
        }

        .wing.left {
            right: 50%;
            transform-origin: right center;
            animation: flapLeft 0.2s infinite ease-in-out alternate;
            background: linear-gradient(to left, #ff1493, #ff69b4);
            border-radius: 50% 10% 50% 50%;
        }

        .wing.right {
            left: 50%;
            transform-origin: left center;
            animation: flapRight 0.2s infinite ease-in-out alternate;
            background: linear-gradient(to right, #ff1493, #ff69b4);
            border-radius: 10% 50% 50% 50%;
        }

        @keyframes flapLeft {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(70deg); }
        }

        @keyframes flapRight {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(-70deg); }
        }

        /* Estilo do Rastro Brilhante (Pó de Borboleta) */
        .trail-dot {
            position: fixed;
            width: 4px;
            height: 4px;
            background-color: var(--trail-color);
            border-radius: 50%;
            pointer-events: none;
            z-index: 500;
            box-shadow: 0 0 5px var(--trail-color);
        }

        .instructions {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: #ecf0f1;
            pointer-events: none;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-size: 12px;
            opacity: 0.6;
        }
    </style>
</head>
<body>

    <div class="instructions">Mova o mouse para a borboleta voar</div>

    <div id="butterfly">
        <div class="wing left"></div>
        <div class="body-center"></div>
        <div class="wing right"></div>
    </div>

    <script>
        const butterfly = document.getElementById('butterfly');
        let mouseX = window.innerWidth / 2;
        let mouseY = window.innerHeight / 2;
        let butterflyX = mouseX;
        let butterflyY = mouseY;

        const speed = 0.05; // Mais lenta que a aranha para parecer voo
        let lastTrailX = 0;
        let lastTrailY = 0;

        window.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
        });

        function createTrail(x, y) {
            const dist = Math.hypot(x - lastTrailX, y - lastTrailY);
            if (dist < 10) return;

            const dot = document.createElement('div');
            dot.className = 'trail-dot';
            
            // Adiciona uma pequena variação aleatória na posição do pó
            const offset = () => (Math.random() - 0.5) * 20;
            dot.style.left = `${x + offset()}px`;
            dot.style.top = `${y + offset()}px`;
            
            document.body.appendChild(dot);

            // Animação de queda e desaparecimento
            const anim = dot.animate([
                { transform: 'translateY(0) scale(1)', opacity: 1 },
                { transform: `translateY(30px) scale(0)`, opacity: 0 }
            ], {
                duration: 1000 + Math.random() * 500,
                easing: 'ease-out'
            });

            anim.onfinish = () => dot.remove();

            lastTrailX = x;
            lastTrailY = y;
        }

        function animate() {
            // Movimento suave com "atraso" para parecer flutuante
            butterflyX += (mouseX - butterflyX) * speed;
            butterflyY += (mouseY - butterflyY) * speed;

            // Ângulo para a borboleta olhar para o destino
            const angle = Math.atan2(mouseY - butterflyY, mouseX - butterflyX) * 180 / Math.PI;

            // Aplica posição e rotação
            // Adicionamos um balanço extra usando Math.sin para parecer mais orgânico
            const wobble = Math.sin(Date.now() / 200) * 5;
            butterfly.style.transform = `translate(${butterflyX - 30}px, ${butterflyY - 30}px) rotate(${angle + 90 + wobble}deg)`;

            // Gera rastro de brilho
            createTrail(butterflyX, butterflyY);

            requestAnimationFrame(animate);
        }

        animate();
    </script>
</body>
</html>